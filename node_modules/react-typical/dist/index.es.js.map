{"version":3,"file":"index.es.js","sources":["../node_modules/@camwiegert/typical/typical.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["export async function type(node, ...args) {\n    for (const arg of args) {\n        switch (typeof arg) {\n            case 'string':\n                await edit(node, arg);\n                break;\n            case 'number':\n                await wait(arg);\n                break;\n            case 'function':\n                await arg(node, ...args);\n                break;\n            default:\n                await arg;\n        }\n    }\n}\n\nasync function edit(node, text) {\n    const overlap = getOverlap(node.textContent, text);\n    await perform(node, [...deleter(node.textContent, overlap), ...writer(text, overlap)]);\n}\n\nasync function wait(ms) {\n    await new Promise(resolve => setTimeout(resolve, ms));\n}\n\nasync function perform(node, edits, speed = 60) {\n    for (const op of editor(edits)) {\n        op(node);\n        await wait(speed + speed * (Math.random() - 0.5));\n    }\n}\n\nexport function* editor(edits) {\n    for (const edit of edits) {\n        yield (node) => requestAnimationFrame(() => node.textContent = edit);\n    }\n}\n\nexport function* writer([...text], startIndex = 0, endIndex = text.length) {\n    while (startIndex < endIndex) {\n        yield text.slice(0, ++startIndex).join('');\n    }\n}\n\nexport function* deleter([...text], startIndex = 0, endIndex = text.length) {\n    while (endIndex > startIndex) {\n        yield text.slice(0, --endIndex).join('');\n    }\n}\n\nexport function getOverlap(start, [...end]) {\n    return [...start, NaN].findIndex((char, i) => end[i] !== char);\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","\nimport React, { useRef, useEffect, memo } from \"react\";\nimport { type, type as loopedType } from \"@camwiegert/typical\";\n\nimport styles from './styles.css'\n\nconst Typical = ({ steps, loop, className, wrapper = \"p\" }) => {\n  const typicalRef = useRef(null);\n  const Component = wrapper;\n  const classNames = [styles.typicalWrapper];\n  \n  if (className) {\n    classNames.unshift(className);\n  }\n\n  useEffect(() => {\n    if (loop === Infinity) {\n      type(typicalRef.current, ...steps, loopedType);\n    } else if (typeof loop === \"number\") {\n      type(\n        typicalRef.current,\n        ...Array(loop)\n          .fill(steps)\n          .flat()\n      );\n    } else {\n      type(typicalRef.current, ...steps);\n    }\n  });\n\n  return <Component ref={typicalRef} className={classNames.join(' ')}/>;\n}\n\nexport default memo(Typical)\n"],"names":["Typical","steps","loop","className","wrapper","typicalRef","useRef","Component","classNames","styles","typicalWrapper","unshift","Infinity","current","loopedType","Array","fill","flat","join","memo"],"mappings":"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"}