{"version":3,"sources":["../../../../server/lib/squoosh/image_data.ts"],"sourcesContent":["export default class ImageData {\n  static from(input: ImageData): ImageData {\n    return new ImageData(input.data || input._data, input.width, input.height)\n  }\n\n  private _data: Buffer | Uint8Array | Uint8ClampedArray\n  width: number\n  height: number\n\n  get data(): Buffer {\n    if (Object.prototype.toString.call(this._data) === '[object Object]') {\n      return Buffer.from(Object.values(this._data))\n    }\n    if (\n      this._data instanceof Buffer ||\n      this._data instanceof Uint8Array ||\n      this._data instanceof Uint8ClampedArray\n    ) {\n      return Buffer.from(this._data)\n    }\n    throw new Error('invariant')\n  }\n\n  constructor(\n    data: Buffer | Uint8Array | Uint8ClampedArray,\n    width: number,\n    height: number\n  ) {\n    this._data = data\n    this.width = width\n    this.height = height\n  }\n}\n"],"names":[],"mappings":";;;;;MAAqB,UAAS;WACrB,IAAI,CAAC,KAAgB,EAAa,CAAC;eACjC,GAAG,CAAC,UAAS,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM;IAC3E,CAAC;QAMG,IAAI,GAAW,CAAC;QAClB,EAAE,EAAE,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,MAAM,KAAK,OAAM,eAAiB,GAAE,CAAC;mBAC9D,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,MAAM,KAAK;QAC7C,CAAC;QACD,EAAE,OACK,KAAK,YAAY,MAAM,SACvB,KAAK,YAAY,UAAU,SAC3B,KAAK,YAAY,iBAAiB,EACvC,CAAC;mBACM,MAAM,CAAC,IAAI,MAAM,KAAK;QAC/B,CAAC;QACD,KAAK,CAAC,GAAG,CAAC,KAAK,EAAC,SAAW;IAC7B,CAAC;gBAGC,IAA6C,EAC7C,KAAa,EACb,MAAc,CACd,CAAC;aACI,KAAK,GAAG,IAAI;aACZ,KAAK,GAAG,KAAK;aACb,MAAM,GAAG,MAAM;IACtB,CAAC;;kBA/BkB,UAAS"}