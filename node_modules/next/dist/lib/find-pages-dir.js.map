{"version":3,"sources":["../../lib/find-pages-dir.ts"],"sourcesContent":["import fs from 'fs'\nimport path from 'path'\n\nexport const existsSync = (f: string): boolean => {\n  try {\n    fs.accessSync(f, fs.constants.F_OK)\n    return true\n  } catch (_) {\n    return false\n  }\n}\n\nexport function findPagesDir(dir: string): string {\n  // prioritize ./pages over ./src/pages\n  let curDir = path.join(dir, 'pages')\n  if (existsSync(curDir)) return curDir\n\n  curDir = path.join(dir, 'src/pages')\n  if (existsSync(curDir)) return curDir\n\n  // Check one level up the tree to see if the pages directory might be there\n  if (existsSync(path.join(dir, '..', 'pages'))) {\n    throw new Error(\n      '> No `pages` directory found. Did you mean to run `next` in the parent (`../`) directory?'\n    )\n  }\n\n  throw new Error(\n    \"> Couldn't find a `pages` directory. Please create one under the project root\"\n  )\n}\n"],"names":[],"mappings":";;;;QAYgB,YAAY,GAAZ,YAAY;;AAZb,GAAI,CAAJ,GAAI;AACF,GAAM,CAAN,KAAM;;;;;;AAEhB,KAAK,CAAC,UAAU,IAAI,CAAS,GAAc,CAAC;QAC7C,CAAC;QAJQ,GAAI,SAKZ,UAAU,CAAC,CAAC,EALJ,GAAI,SAKK,SAAS,CAAC,IAAI;eAC3B,IAAI;IACb,CAAC,QAAQ,CAAC,EAAE,CAAC;eACJ,KAAK;IACd,CAAC;AACH,CAAC;QAPY,UAAU,GAAV,UAAU;SASP,YAAY,CAAC,GAAW,EAAU,CAAC;IACjD,EAAsC,AAAtC,oCAAsC;IACtC,GAAG,CAAC,MAAM,GAbK,KAAM,SAaH,IAAI,CAAC,GAAG,GAAE,KAAO;IACnC,EAAE,EAAE,UAAU,CAAC,MAAM,UAAU,MAAM;IAErC,MAAM,GAhBS,KAAM,SAgBP,IAAI,CAAC,GAAG,GAAE,SAAW;IACnC,EAAE,EAAE,UAAU,CAAC,MAAM,UAAU,MAAM;IAErC,EAA2E,AAA3E,yEAA2E;IAC3E,EAAE,EAAE,UAAU,CApBC,KAAM,SAoBD,IAAI,CAAC,GAAG,GAAE,EAAI,IAAE,KAAO,KAAI,CAAC;QAC9C,KAAK,CAAC,GAAG,CAAC,KAAK,EACb,yFAA2F;IAE/F,CAAC;IAED,KAAK,CAAC,GAAG,CAAC,KAAK,EACb,6EAA+E;AAEnF,CAAC"}