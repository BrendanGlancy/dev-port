{"version":3,"sources":["../../lib/install-dependencies.ts"],"sourcesContent":["import chalk from 'chalk'\nimport path from 'path'\n\nimport { MissingDependency } from './has-necessary-dependencies'\nimport { shouldUseYarn } from './helpers/should-use-yarn'\nimport { install } from './helpers/install'\nimport { getOnline } from './helpers/get-online'\n\nexport type Dependencies = {\n  resolved: Map<string, string>\n}\n\nexport async function installDependencies(\n  baseDir: string,\n  deps: any,\n  dev: boolean = false\n) {\n  const useYarn = shouldUseYarn()\n  const isOnline = !useYarn || (await getOnline())\n\n  if (deps.length) {\n    console.log()\n    console.log(`Installing ${dev ? 'devDependencies' : 'dependencies'}:`)\n    for (const dep of deps) {\n      console.log(`- ${chalk.cyan(dep.pkg)}`)\n    }\n    console.log()\n\n    const devInstallFlags = { devDependencies: dev, ...{ useYarn, isOnline } }\n    await install(\n      path.resolve(baseDir),\n      deps.map((dep: MissingDependency) => dep.pkg),\n      devInstallFlags\n    )\n    console.log()\n  }\n}\n"],"names":[],"mappings":";;;;QAYsB,mBAAmB,GAAnB,mBAAmB;AAZvB,GAAO,CAAP,MAAO;AACR,GAAM,CAAN,KAAM;AAGO,GAA2B,CAA3B,cAA2B;AACjC,GAAmB,CAAnB,QAAmB;AACjB,GAAsB,CAAtB,UAAsB;;;;;;eAM1B,mBAAmB,CACvC,OAAe,EACf,IAAS,EACT,GAAY,GAAG,KAAK,EACpB,CAAC;IACD,KAAK,CAAC,OAAO,OAbe,cAA2B;IAcvD,KAAK,CAAC,QAAQ,IAAI,OAAO,cAZD,UAAsB;IAc9C,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,OAAO,CAAC,GAAG;QACX,OAAO,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,IAAG,eAAiB,KAAG,YAAc,EAAC,CAAC;aAC/D,KAAK,CAAC,GAAG,IAAI,IAAI,CAAE,CAAC;YACvB,OAAO,CAAC,GAAG,EAAE,EAAE,EAxBH,MAAO,SAwBI,IAAI,CAAC,GAAG,CAAC,GAAG;QACrC,CAAC;QACD,OAAO,CAAC,GAAG;QAEX,KAAK,CAAC,eAAe;YAAK,eAAe,EAAE,GAAG;;gBAAO,OAAO;gBAAE,QAAQ;;;kBAvBlD,QAAmB,UAJ1B,KAAM,SA6BZ,OAAO,CAAC,OAAO,GACpB,IAAI,CAAC,GAAG,EAAE,IAAsB,GAAK,IAAG,CAAC,GAAG;WAC5C,eAAe;QAEjB,OAAO,CAAC,GAAG;IACb,CAAC;AACH,CAAC"}