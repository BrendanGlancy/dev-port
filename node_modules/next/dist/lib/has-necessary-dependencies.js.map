{"version":3,"sources":["../../lib/has-necessary-dependencies.ts"],"sourcesContent":["export interface MissingDependency {\n  file: string\n  pkg: string\n}\n\nexport type NecessaryDependencies = {\n  resolved: Map<string, string>\n  missing: MissingDependency[]\n}\n\nexport async function hasNecessaryDependencies(\n  baseDir: string,\n  requiredPackages: MissingDependency[]\n): Promise<NecessaryDependencies> {\n  let resolutions = new Map<string, string>()\n  const missingPackages = requiredPackages.filter((p) => {\n    try {\n      resolutions.set(p.pkg, require.resolve(p.file, { paths: [baseDir] }))\n      return false\n    } catch (_) {\n      return true\n    }\n  })\n\n  return {\n    resolved: resolutions,\n    missing: missingPackages,\n  }\n}\n"],"names":[],"mappings":";;;;QAUsB,wBAAwB,GAAxB,wBAAwB;eAAxB,wBAAwB,CAC5C,OAAe,EACf,gBAAqC,EACL,CAAC;IACjC,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG;IACzB,KAAK,CAAC,eAAe,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,GAAK,CAAC;YAClD,CAAC;YACH,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI;gBAAI,KAAK;oBAAG,OAAO;;;mBACzD,KAAK;QACd,CAAC,QAAQ,CAAC,EAAE,CAAC;mBACJ,IAAI;QACb,CAAC;IACH,CAAC;;QAGC,QAAQ,EAAE,WAAW;QACrB,OAAO,EAAE,eAAe;;AAE5B,CAAC"}