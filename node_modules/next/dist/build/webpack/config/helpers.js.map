{"version":3,"sources":["../../../../build/webpack/config/helpers.ts"],"sourcesContent":["import curry from 'next/dist/compiled/lodash.curry'\nimport { webpack } from 'next/dist/compiled/webpack/webpack'\n\nexport const loader = curry(function loader(\n  rule: webpack.RuleSetRule,\n  config: webpack.Configuration\n) {\n  if (!config.module) {\n    config.module = { rules: [] }\n  }\n\n  if (rule.oneOf) {\n    const existing = config.module.rules.find((arrayRule) => arrayRule.oneOf)\n    if (existing) {\n      existing.oneOf!.push(...rule.oneOf)\n      return config\n    }\n  }\n\n  config.module.rules.push(rule)\n  return config\n})\n\nexport const unshiftLoader = curry(function unshiftLoader(\n  rule: webpack.RuleSetRule,\n  config: webpack.Configuration\n) {\n  if (!config.module) {\n    config.module = { rules: [] }\n  }\n\n  if (rule.oneOf) {\n    const existing = config.module.rules.find((arrayRule) => arrayRule.oneOf)\n    if (existing) {\n      existing.oneOf!.unshift(...rule.oneOf)\n      return config\n    }\n  }\n\n  config.module.rules.unshift(rule)\n  return config\n})\n\nexport const plugin = curry(function plugin(\n  p: webpack.Plugin,\n  config: webpack.Configuration\n) {\n  if (!config.plugins) {\n    config.plugins = []\n  }\n  config.plugins.push(p)\n  return config\n})\n"],"names":[],"mappings":";;;;;AAAkB,GAAiC,CAAjC,YAAiC;;;;;;AAG5C,KAAK,CAAC,MAAM,OAHD,YAAiC,mBAGd,OAAM,CACzC,IAAyB,EACzB,MAA6B,EAC7B,CAAC;IACD,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;QACnB,MAAM,CAAC,MAAM;YAAK,KAAK;;IACzB,CAAC;IAED,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,GAAK,SAAS,CAAC,KAAK;;QACxE,EAAE,EAAE,QAAQ,EAAE,CAAC;YACb,QAAQ,CAAC,KAAK,CAAE,IAAI,IAAI,IAAI,CAAC,KAAK;mBAC3B,MAAM;QACf,CAAC;IACH,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;WACtB,MAAM;AACf,CAAC;QAlBY,MAAM,GAAN,MAAM;AAoBZ,KAAK,CAAC,aAAa,OAvBR,YAAiC,mBAuBP,cAAa,CACvD,IAAyB,EACzB,MAA6B,EAC7B,CAAC;IACD,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;QACnB,MAAM,CAAC,MAAM;YAAK,KAAK;;IACzB,CAAC;IAED,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,GAAK,SAAS,CAAC,KAAK;;QACxE,EAAE,EAAE,QAAQ,EAAE,CAAC;YACb,QAAQ,CAAC,KAAK,CAAE,OAAO,IAAI,IAAI,CAAC,KAAK;mBAC9B,MAAM;QACf,CAAC;IACH,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI;WACzB,MAAM;AACf,CAAC;QAlBY,aAAa,GAAb,aAAa;AAoBnB,KAAK,CAAC,MAAM,OA3CD,YAAiC,mBA2Cd,OAAM,CACzC,CAAiB,EACjB,MAA6B,EAC7B,CAAC;IACD,EAAE,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QACpB,MAAM,CAAC,OAAO;IAChB,CAAC;IACD,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;WACd,MAAM;AACf,CAAC;QATY,MAAM,GAAN,MAAM"}