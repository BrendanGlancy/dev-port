{"version":3,"sources":["../../../../build/webpack/loaders/error-loader.ts"],"sourcesContent":["import chalk from 'chalk'\nimport loaderUtils from 'next/dist/compiled/loader-utils'\nimport path from 'path'\nimport { webpack } from 'next/dist/compiled/webpack/webpack'\n\nconst ErrorLoader: webpack.loader.Loader = function () {\n  const options = loaderUtils.getOptions(this) || {}\n\n  const { reason = 'An unknown error has occurred' } = options\n\n  const resource = this._module?.issuer?.resource ?? null\n  const context = this.rootContext ?? this._compiler?.context\n\n  const issuer = resource\n    ? context\n      ? path.relative(context, resource)\n      : resource\n    : null\n\n  const err = new Error(\n    reason + (issuer ? `\\nLocation: ${chalk.cyan(issuer)}` : '')\n  )\n  this.emitError(err)\n}\n\nexport default ErrorLoader\n"],"names":[],"mappings":";;;;;AAAkB,GAAO,CAAP,MAAO;AACD,GAAiC,CAAjC,YAAiC;AACxC,GAAM,CAAN,KAAM;;;;;;AAGvB,KAAK,CAAC,WAAW,cAAsC,CAAC;QAKrC,GAAY,QACO,IAAc;IALlD,KAAK,CAAC,OAAO,GALS,YAAiC,SAK3B,UAAU;;IAEtC,KAAK,GAAG,MAAM,GAAG,6BAA+B,OAAK,OAAO;QAE3C,IAA8B;IAA/C,KAAK,CAAC,QAAQ,IAAG,IAA8B,IAA9B,GAAY,QAAP,OAAO,cAAZ,GAAY,UAAZ,CAAoB,QAApB,CAAoB,WAApB,GAAY,CAAE,MAAM,4BAApB,CAAoB,QAApB,CAAoB,QAAE,QAAQ,cAA9B,IAA8B,cAA9B,IAA8B,GAAI,IAAI;QACvC,YAAgB;IAAhC,KAAK,CAAC,OAAO,IAAG,YAAgB,QAAX,WAAW,cAAhB,YAAgB,cAAhB,YAAgB,IAAI,IAAc,QAAT,SAAS,cAAd,IAAc,UAAd,CAAuB,QAAvB,CAAuB,GAAvB,IAAc,CAAE,OAAO;IAE3D,KAAK,CAAC,MAAM,GAAG,QAAQ,GACnB,OAAO,GAZI,KAAM,SAaV,QAAQ,CAAC,OAAO,EAAE,QAAQ,IAC/B,QAAQ,GACV,IAAI;IAER,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,CACnB,MAAM,IAAI,MAAM,IAAI,YAAY,EApBlB,MAAO,SAoBmB,IAAI,CAAC,MAAM;SAEhD,SAAS,CAAC,GAAG;AACpB,CAAC;eAEc,WAAW"}