{"version":3,"sources":["../../../../../build/webpack/loaders/next-style-loader/index.js"],"sourcesContent":["import loaderUtils from 'next/dist/compiled/loader-utils'\nimport path from 'path'\nimport { validate } from 'next/dist/compiled/schema-utils3'\nimport isEqualLocals from './runtime/isEqualLocals'\n\nconst schema = {\n  type: 'object',\n  properties: {\n    injectType: {\n      description:\n        'Allows to setup how styles will be injected into DOM (https://github.com/webpack-contrib/style-loader#injecttype).',\n      enum: [\n        'styleTag',\n        'singletonStyleTag',\n        'lazyStyleTag',\n        'lazySingletonStyleTag',\n        'linkTag',\n      ],\n    },\n    attributes: {\n      description:\n        'Adds custom attributes to tag (https://github.com/webpack-contrib/style-loader#attributes).',\n      type: 'object',\n    },\n    insert: {\n      description:\n        'Inserts `<style>`/`<link>` at the given position (https://github.com/webpack-contrib/style-loader#insert).',\n      anyOf: [\n        {\n          type: 'string',\n        },\n        {\n          instanceof: 'Function',\n        },\n      ],\n    },\n    base: {\n      description:\n        'Sets module ID base for DLLPlugin (https://github.com/webpack-contrib/style-loader#base).',\n      type: 'number',\n    },\n    esModule: {\n      description:\n        'Use the ES modules syntax (https://github.com/webpack-contrib/css-loader#esmodule).',\n      type: 'boolean',\n    },\n  },\n  additionalProperties: false,\n}\n\nconst loaderApi = () => {}\n\nloaderApi.pitch = function loader(request) {\n  const options = loaderUtils.getOptions(this)\n\n  validate(schema, options, {\n    name: 'Style Loader',\n    baseDataPath: 'options',\n  })\n\n  const insert =\n    typeof options.insert === 'undefined'\n      ? '\"head\"'\n      : typeof options.insert === 'string'\n      ? JSON.stringify(options.insert)\n      : options.insert.toString()\n  const injectType = options.injectType || 'styleTag'\n  const esModule =\n    typeof options.esModule !== 'undefined' ? options.esModule : false\n\n  delete options.esModule\n\n  switch (injectType) {\n    case 'linkTag': {\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  module.hot.accept(\n    ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n    function() {\n     ${\n       esModule\n         ? 'update(content);'\n         : `content = require(${loaderUtils.stringifyRequest(\n             this,\n             `!!${request}`\n           )});\n\n           content = content.__esModule ? content.default : content;\n\n           update(content);`\n     }\n    }\n  );\n\n  module.hot.dispose(function() {\n    update();\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoLinkTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoLinkTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;`\n      }\n\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\n\nvar update = api(content, options);\n\n${hmrCode}\n\n${esModule ? 'export default {}' : ''}`\n    }\n\n    case 'lazyStyleTag':\n    case 'lazySingletonStyleTag': {\n      const isSingleton = injectType === 'lazySingletonStyleTag'\n\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = ${isEqualLocals.toString()};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n      function () {\n        ${\n          esModule\n            ? `if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              if (update && refs > 0) {\n                update(content);\n              }`\n            : `content = require(${loaderUtils.stringifyRequest(\n                this,\n                `!!${request}`\n              )});\n\n              content = content.__esModule ? content.default : content;\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              if (update && refs > 0) {\n                update(content);\n              }`\n        }\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    if (update) {\n      update();\n    }\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }`\n      }\n\nvar refs = 0;\nvar update;\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\noptions.singleton = ${isSingleton};\n\nvar exported = {};\n\nexported.locals = content.locals || {};\nexported.use = function() {\n  if (!(refs++)) {\n    update = api(content, options);\n  }\n\n  return exported;\n};\nexported.unuse = function() {\n  if (refs > 0 && !--refs) {\n    update();\n    update = null;\n  }\n};\n\n${hmrCode}\n\n${esModule ? 'export default' : 'module.exports ='} exported;`\n    }\n\n    case 'styleTag':\n    case 'singletonStyleTag':\n    default: {\n      const isSingleton = injectType === 'singletonStyleTag'\n\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = ${isEqualLocals.toString()};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n      function () {\n        ${\n          esModule\n            ? `if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);`\n            : `content = require(${loaderUtils.stringifyRequest(\n                this,\n                `!!${request}`\n              )});\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);`\n        }\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }`\n      }\n\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\noptions.singleton = ${isSingleton};\n\nvar update = api(content, options);\n\n${hmrCode}\n\n${esModule ? 'export default' : 'module.exports ='} content.locals || {};`\n    }\n  }\n}\n\nmodule.exports = loaderApi\n"],"names":[],"mappings":"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"}