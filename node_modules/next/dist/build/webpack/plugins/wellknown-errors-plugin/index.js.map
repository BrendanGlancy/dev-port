{"version":3,"sources":["../../../../../build/webpack/plugins/wellknown-errors-plugin/index.ts"],"sourcesContent":["import { webpack } from 'next/dist/compiled/webpack/webpack'\nimport { getModuleBuildError } from './webpackModuleError'\n\nexport class WellKnownErrorsPlugin {\n  apply(compiler: webpack.Compiler) {\n    compiler.hooks.compilation.tap('WellKnownErrorsPlugin', (compilation) => {\n      compilation.hooks.afterSeal.tapPromise(\n        'WellKnownErrorsPlugin',\n        async () => {\n          if (compilation.errors?.length) {\n            compilation.errors = await Promise.all(\n              compilation.errors.map(async (err) => {\n                try {\n                  const moduleError = await getModuleBuildError(\n                    compilation,\n                    err\n                  )\n                  return moduleError === false ? err : moduleError\n                } catch (e) {\n                  console.log(e)\n                  return err\n                }\n              })\n            )\n          }\n        }\n      )\n    })\n  }\n}\n"],"names":[],"mappings":";;;;AACoC,GAAsB,CAAtB,mBAAsB;MAE7C,qBAAqB;IAChC,KAAK,CAAC,QAA0B,EAAE,CAAC;QACjC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,EAAC,qBAAuB,IAAG,WAAW,GAAK,CAAC;YACxE,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,EACpC,qBAAuB,aACX,CAAC;oBACP,GAAkB;gBAAtB,EAAE,GAAE,GAAkB,GAAlB,WAAW,CAAC,MAAM,cAAlB,GAAkB,UAAlB,CAA0B,QAA1B,CAA0B,GAA1B,GAAkB,CAAE,MAAM,EAAE,CAAC;oBAC/B,WAAW,CAAC,MAAM,SAAS,OAAO,CAAC,GAAG,CACpC,WAAW,CAAC,MAAM,CAAC,GAAG,QAAQ,GAAG,GAAK,CAAC;4BACjC,CAAC;4BACH,KAAK,CAAC,WAAW,aAZC,mBAAsB,sBAatC,WAAW,EACX,GAAG;mCAEE,WAAW,KAAK,KAAK,GAAG,GAAG,GAAG,WAAW;wBAClD,CAAC,QAAQ,CAAC,EAAE,CAAC;4BACX,OAAO,CAAC,GAAG,CAAC,CAAC;mCACN,GAAG;wBACZ,CAAC;oBACH,CAAC;gBAEL,CAAC;YACH,CAAC;QAEL,CAAC;IACH,CAAC;;QAzBU,qBAAqB,GAArB,qBAAqB"}